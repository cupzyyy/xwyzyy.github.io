<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZYY AI - Chatbot Gemini 2.5 Flash</title>
    <!-- Font Awesome 7.0.1 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #6366f1;
            --primary-gradient: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            --secondary-color: #10b981;
            --dark-color: #1f2937;
            --light-color: #f9fafb;
            --gray-color: #6b7280;
            --border-color: #e5e7eb;
            --shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
            --radius: 12px;
            --transition: all 0.3s ease;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: #ffffff;
            color: var(--dark-color);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            background-image: 
                radial-gradient(at 40% 20%, rgba(99, 102, 241, 0.08) 0px, transparent 50%),
                radial-gradient(at 80% 0%, rgba(139, 92, 246, 0.08) 0px, transparent 50%),
                radial-gradient(at 0% 50%, rgba(16, 185, 129, 0.05) 0px, transparent 50%);
        }

        .header {
            background: white;
            box-shadow: var(--shadow);
            padding: 1.2rem 2rem;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-icon {
            background: var(--primary-gradient);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }

        .logo-text {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            font-size: 1.8rem;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            font-size: 0.9rem;
            color: var(--gray-color);
            font-weight: 400;
        }

        .main-container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 2rem;
            flex: 1;
            display: flex;
            flex-direction: column;
            width: 100%;
        }

        .chat-container {
            display: flex;
            flex-direction: column;
            height: 70vh;
            background: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            overflow: hidden;
            border: 1px solid var(--border-color);
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .chat-header {
            background: var(--primary-gradient);
            color: white;
            padding: 1.2rem 1.5rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .chat-header h2 {
            font-size: 1.3rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .model-info {
            background: rgba(255, 255, 255, 0.2);
            padding: 0.4rem 0.8rem;
            border-radius: 50px;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .chat-messages {
            flex: 1;
            padding: 1.5rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            background-color: #fafafa;
        }

        .message {
            max-width: 85%;
            padding: 1rem 1.2rem;
            border-radius: 18px;
            position: relative;
            animation: messageAppear 0.3s ease;
            line-height: 1.5;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        @keyframes messageAppear {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .user-message {
            align-self: flex-end;
            background: var(--primary-gradient);
            color: white;
            border-bottom-right-radius: 5px;
        }

        .ai-message {
            align-self: flex-start;
            background: white;
            color: var(--dark-color);
            border: 1px solid var(--border-color);
            border-bottom-left-radius: 5px;
        }

        .message-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 6px;
            font-size: 0.85rem;
            font-weight: 500;
        }

        .user-message .message-header {
            color: rgba(255, 255, 255, 0.9);
        }

        .ai-message .message-header {
            color: var(--primary-color);
        }

        .message-content {
            font-size: 0.95rem;
        }

        .message-time {
            font-size: 0.7rem;
            opacity: 0.7;
            text-align: right;
            margin-top: 8px;
        }

        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 1rem 1.2rem;
            background: white;
            border-radius: 18px;
            border: 1px solid var(--border-color);
            align-self: flex-start;
            border-bottom-left-radius: 5px;
            width: 100px;
        }

        .typing-indicator span {
            height: 8px;
            width: 8px;
            border-radius: 50%;
            background: var(--gray-color);
            display: inline-block;
            animation: typing 1.4s infinite ease-in-out;
        }

        .typing-indicator span:nth-child(1) {
            animation-delay: -0.32s;
        }

        .typing-indicator span:nth-child(2) {
            animation-delay: -0.16s;
        }

        @keyframes typing {
            0%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
        }

        .input-container {
            padding: 1.2rem 1.5rem;
            background: white;
            border-top: 1px solid var(--border-color);
            display: flex;
            gap: 10px;
        }

        .input-wrapper {
            flex: 1;
            display: flex;
            background: #f8fafc;
            border-radius: 50px;
            border: 1px solid var(--border-color);
            overflow: hidden;
            transition: var(--transition);
        }

        .input-wrapper:focus-within {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        #user-input {
            flex: 1;
            border: none;
            background: transparent;
            padding: 1rem 1.5rem;
            font-family: 'Poppins', sans-serif;
            font-size: 0.95rem;
            outline: none;
            color: var(--dark-color);
        }

        #send-button {
            background: var(--primary-gradient);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            font-size: 1.1rem;
            align-self: center;
        }

        #send-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(99, 102, 241, 0.3);
        }

        #send-button:active {
            transform: translateY(0);
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .action-button {
            padding: 0.7rem 1.2rem;
            background: white;
            border: 1px solid var(--border-color);
            border-radius: 50px;
            font-size: 0.85rem;
            color: var(--dark-color);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .action-button:hover {
            background: #f8fafc;
            border-color: var(--primary-color);
            color: var(--primary-color);
        }

        .footer {
            text-align: center;
            padding: 1.5rem;
            color: var(--gray-color);
            font-size: 0.85rem;
            margin-top: 2rem;
            border-top: 1px solid var(--border-color);
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .feature-card {
            background: white;
            border-radius: var(--radius);
            padding: 1.5rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            transition: var(--transition);
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.08);
        }

        .feature-icon {
            background: var(--primary-gradient);
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.3rem;
            margin-bottom: 1rem;
        }

        .feature-card h3 {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
            color: var(--dark-color);
        }

        .feature-card p {
            font-size: 0.9rem;
            color: var(--gray-color);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 10px;
                text-align: center;
            }
            
            .chat-container {
                height: 65vh;
            }
            
            .message {
                max-width: 90%;
            }
            
            .main-container {
                padding: 0 1rem;
                margin: 1rem auto;
            }
            
            .features {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .chat-header {
                flex-direction: column;
                gap: 10px;
                align-items: flex-start;
            }
            
            .message {
                max-width: 95%;
            }
            
            .input-container {
                padding: 1rem;
            }
            
            #user-input {
                padding: 0.8rem 1rem;
            }
        }

        /* Scrollbar styling */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #a1a1a1;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-robot"></i>
                </div>
                <div>
                    <div class="logo-text">ZYY AI</div>
                    <div class="subtitle">Powered by Gemini 2.5 Flash</div>
                </div>
            </div>
            <div class="model-info">
                <i class="fas fa-bolt"></i>
                <span>Model: Gemini 2.5 Flash</span>
            </div>
        </div>
    </header>

    <main class="main-container">
        <div class="chat-container">
            <div class="chat-header">
                <h2>
                    <i class="fas fa-comments"></i>
                    ZYY AI Assistant
                </h2>
                <div class="model-info">
                    <i class="fas fa-circle"></i>
                    <span>Online</span>
                </div>
            </div>
            
            <div class="chat-messages" id="chat-messages">
                <!-- Pesan awal dari AI -->
                <div class="message ai-message">
                    <div class="message-header">
                        <i class="fas fa-robot"></i>
                        <span>ZYY AI</span>
                    </div>
                    <div class="message-content">
                        Halo! Saya ZYY AI, asisten virtual Anda yang didukung oleh Gemini 2.5 Flash. Saya siap membantu Anda dengan berbagai pertanyaan dan tugas. Apa yang bisa saya bantu hari ini?
                    </div>
                    <div class="message-time" id="message-time-0">Baru saja</div>
                </div>
                
                <!-- Pesan contoh dari pengguna -->
                <div class="message user-message">
                    <div class="message-header">
                        <i class="fas fa-user"></i>
                        <span>Anda</span>
                    </div>
                    <div class="message-content">
                        Coba jelaskan apa itu kecerdasan buatan dalam 2 kalimat!
                    </div>
                    <div class="message-time" id="message-time-1">Baru saja</div>
                </div>
                
                <!-- Jawaban contoh dari AI -->
                <div class="message ai-message">
                    <div class="message-header">
                        <i class="fas fa-robot"></i>
                        <span>ZYY AI</span>
                    </div>
                    <div class="message-content">
                        Kecerdasan buatan (AI) adalah bidang ilmu komputer yang berfokus pada pembuatan sistem yang dapat melakukan tugas-tugas yang biasanya memerlukan kecerdasan manusia, seperti pengenalan pola, pembelajaran, pemecahan masalah, dan pengambilan keputusan. AI menggunakan algoritma dan model statistik untuk menganalisis data, belajar dari pengalaman, dan beradaptasi dengan situasi baru.
                    </div>
                    <div class="message-time" id="message-time-2">Baru saja</div>
                </div>
            </div>
            
            <div class="input-container">
                <div class="input-wrapper">
                    <input type="text" id="user-input" placeholder="Ketik pesan Anda di sini...">
                </div>
                <button id="send-button">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
        
        <div class="action-buttons">
            <button class="action-button" id="clear-chat">
                <i class="fas fa-trash"></i>
                <span>Hapus Percakapan</span>
            </button>
        </div>
        
        <div class="features">
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-bolt"></i>
                </div>
                <h3>Cepat dan Responsif</h3>
                <p>Ditenagai oleh Gemini 2.5 Flash untuk respons yang cepat dan akurat dalam waktu nyata.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-brain"></i>
                </div>
                <h3>Kecerdasan Tingkat Lanjut</h3>
                <p>Mampu memahami konteks percakapan dan memberikan jawaban yang relevan dan mendalam.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-code"></i>
                </div>
                <h3>Multi Bahasa & Kode</h3>
                <p>Mendukung berbagai bahasa dan dapat membantu dalam pemrograman dengan contoh kode.</p>
            </div>
        </div>
    </main>
    
    <footer class="footer">
        <p>ZYY AI &copy; 2023 - Powered by Gemini 2.5 Flash API | Dibuat dengan <i class="fas fa-heart" style="color: #ef4444;"></i> untuk pengalaman AI yang lebih baik</p>
    </footer>

    <script>
        // =======================================
        // GEMINI API CONFIGURATION - GEMINI 2.5 FLASH
        // =======================================
        const GEMINI_API_KEY = 'AIzaSyBQMLs9bxTPS2UcWuvC6iezxU6tvc6XIrU';
        const GEMINI_API_URL = 'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent';

        // DOM Elements
        const chatMessages = document.getElementById('chat-messages');
        const userInput = document.getElementById('user-input');
        const sendButton = document.getElementById('send-button');
        const clearChatButton = document.getElementById('clear-chat');
        const suggestQuestion1 = document.getElementById('suggest-question1');
        const suggestQuestion2 = document.getElementById('suggest-question2');
        const suggestQuestion3 = document.getElementById('suggest-question3');

        // Inisialisasi riwayat percakapan
        let conversationHistory = [
            {
                role: "user",
                parts: [{ text: "Halo! Perkenalkan diri Anda secara singkat sebagai ZYY AI yang didukung Gemini 2.5 Flash." }]
            },
            {
                role: "model",
                parts: [{ text: "Halo! Saya ZYY AI, asisten virtual Anda yang didukung oleh Gemini 2.5 Flash. Saya siap membantu Anda dengan berbagai pertanyaan dan tugas. Apa yang bisa saya bantu hari ini?" }]
            },
            {
                role: "user",
                parts: [{ text: "Coba jelaskan apa itu kecerdasan buatan dalam 2 kalimat!" }]
            },
            {
                role: "model",
                parts: [{ text: "Kecerdasan buatan (AI) adalah bidang ilmu komputer yang berfokus pada pembuatan sistem yang dapat melakukan tugas-tugas yang biasanya memerlukan kecerdasan manusia, seperti pengenalan pola, pembelajaran, pemecahan masalah, dan pengambilan keputusan. AI menggunakan algoritma dan model statistik untuk menganalisis data, belajar dari pengalaman, dan beradaptasi dengan situasi baru." }]
            }
        ];

        // Utility function to format time (seconds to M:SS)
        function formatTime(seconds) {
            if (isNaN(seconds)) return '0:00';
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = Math.floor(seconds % 60);
            const paddedSeconds = remainingSeconds < 10 ? '0' + remainingSeconds : remainingSeconds;
            
            return minutes + ':' + paddedSeconds;
        }

        // Format waktu sekarang
        function getCurrentTime() {
            const now = new Date();
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            return `${hours}:${minutes}`;
        }

        // Tambah pesan ke chat
        function addMessage(content, isUser = false) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user-message' : 'ai-message'}`;
            
            const messageHeader = document.createElement('div');
            messageHeader.className = 'message-header';
            messageHeader.innerHTML = `
                <i class="fas ${isUser ? 'fa-user' : 'fa-robot'}"></i>
                <span>${isUser ? 'Anda' : 'ZYY AI'}</span>
            `;
            
            const messageContent = document.createElement('div');
            messageContent.className = 'message-content';
            messageContent.textContent = content;
            
            const messageTime = document.createElement('div');
            messageTime.className = 'message-time';
            messageTime.textContent = getCurrentTime();
            
            messageDiv.appendChild(messageHeader);
            messageDiv.appendChild(messageContent);
            messageDiv.appendChild(messageTime);
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            return messageDiv;
        }

        // Tampilkan indikator mengetik
        function showTypingIndicator() {
            const typingDiv = document.createElement('div');
            typingDiv.className = 'typing-indicator';
            typingDiv.id = 'typing-indicator';
            typingDiv.innerHTML = `
                <span></span>
                <span></span>
                <span></span>
            `;
            chatMessages.appendChild(typingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Hapus indikator mengetik
        function removeTypingIndicator() {
            const typingIndicator = document.getElementById('typing-indicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        // Kirim pesan ke API Gemini
        async function sendToGemini(userMessage) {
            try {
                // Tambah pesan pengguna ke riwayat
                conversationHistory.push({
                    role: "user",
                    parts: [{ text: userMessage }]
                });
                
                // Siapkan konten untuk API
                const contents = conversationHistory.map(msg => ({
                    role: msg.role,
                    parts: msg.parts
                }));
                
                // Kirim permintaan ke API
                const response = await fetch(`${GEMINI_API_URL}?key=${GEMINI_API_KEY}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        contents: contents,
                        generationConfig: {
                            temperature: 0.7,
                            topK: 1,
                            topP: 1,
                            maxOutputTokens: 2048,
                        },
                    }),
                });
                
                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }
                
                const data = await response.json();
                
                // Ambil teks respons dari struktur respons Gemini
                let aiResponse = "";
                if (data.candidates && data.candidates[0] && data.candidates[0].content && data.candidates[0].content.parts) {
                    aiResponse = data.candidates[0].content.parts[0].text;
                } else {
                    aiResponse = "Maaf, saya tidak bisa memproses permintaan Anda saat ini. Silakan coba lagi.";
                }
                
                // Tambah respons AI ke riwayat
                conversationHistory.push({
                    role: "model",
                    parts: [{ text: aiResponse }]
                });
                
                return aiResponse;
                
            } catch (error) {
                console.error('Error calling Gemini API:', error);
                return `Maaf, terjadi kesalahan saat menghubungi AI: ${error.message}. Silakan coba lagi.`;
            }
        }

        // Proses pesan pengguna
        async function processUserMessage() {
            const message = userInput.value.trim();
            if (!message) return;
            
            // Tambah pesan pengguna ke UI
            addMessage(message, true);
            userInput.value = '';
            
            // Tampilkan indikator mengetik
            showTypingIndicator();
            
            // Dapatkan respons dari AI
            const aiResponse = await sendToGemini(message);
            
            // Hapus indikator mengetik
            removeTypingIndicator();
            
            // Tambah respons AI ke UI
            addMessage(aiResponse, false);
        }

        // Hapus percakapan
        function clearChat() {
            // Hapus semua pesan kecuali yang pertama
            while (chatMessages.children.length > 3) {
                chatMessages.removeChild(chatMessages.lastChild);
            }
            
            // Reset riwayat percakapan dengan menjaga pesan awal
            conversationHistory = [
                {
                    role: "user",
                    parts: [{ text: "Halo! Perkenalkan diri Anda secara singkat sebagai ZYY AI yang didukung Gemini 2.5 Flash." }]
                },
                {
                    role: "model",
                    parts: [{ text: "Halo! Saya ZYY AI, asisten virtual Anda yang didukung oleh Gemini 2.5 Flash. Saya siap membantu Anda dengan berbagai pertanyaan dan tugas. Apa yang bisa saya bantu hari ini?" }]
                }
            ];
            
            // Perbarui waktu pesan yang tersisa
            const timeElements = document.querySelectorAll('.message-time');
            timeElements.forEach(el => {
                el.textContent = getCurrentTime();
            });
        }

        // Event Listeners
        sendButton.addEventListener('click', processUserMessage);
        
        userInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                processUserMessage();
            }
        });
        
        clearChatButton.addEventListener('click', clearChat);
        
        suggestQuestion1.addEventListener('click', () => {
            userInput.value = "Jelaskan apa itu machine learning dan berikan contoh penerapannya dalam kehidupan sehari-hari!";
        });
        
        suggestQuestion2.addEventListener('click', () => {
            userInput.value = "Buatkan sebuah puisi pendek tentang kecerdasan buatan dan masa depan teknologi!";
        });
        
        suggestQuestion3.addEventListener('click', () => {
            userInput.value = "Tulis kode fungsi Fibonacci dalam bahasa JavaScript dan jelaskan cara kerjanya!";
        });

        // Animasi untuk pesan yang ada
        document.addEventListener('DOMContentLoaded', () => {
            const messages = document.querySelectorAll('.message');
            messages.forEach((message, index) => {
                message.style.animationDelay = `${index * 0.1}s`;
            });
            
            // Perbarui waktu pesan yang ada
            const timeElements = document.querySelectorAll('.message-time');
            timeElements.forEach(el => {
                el.textContent = getCurrentTime();
            });
        });
    </script>
</body>
</html>